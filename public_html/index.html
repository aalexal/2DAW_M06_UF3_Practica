<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="style.css"/>
    </head>
    <body>
        <h1>Pràctica Formularis</h1>
        
        <form name="creaForm" id="creaForm">
            <div>
                <label>Nom formulari: </label>
                <input id="inputNomForm" type="text">
            </div>
            <input id="btnCreaForm" name="btnCrea" type="button" value="Crear un camp nou" onclick="nouFormulari()">
            <div id="divCreaForm" style="display: none">
                <form name="creaCamp" id="creaCamp">
                    <input id="campText" name="nouCamp" value="Text" type="radio">Text<br>
                    <input id="campRadio" name="nouCamp" value="Radio" type="radio">Radio<br>
                    <input id="campCheckbox" name="nouCamp" value="Checkbox" type="radio">Checkbox<br>
                    <input id="campSelect" name="nouCamp" value="Select" type="radio">Select<br>
                    <input id="submitTipusCamp" type="button" value="Acceptar" onclick="getOption()">
                </form>
            </div>
            <div id="divTypeText" style="display: none">
                <form name="textType" id="creaCamp">
                    <label id="">Introdueix tipus de text que vols entrar</label><br>
                    <input id="typeTxt" name="typeTxt" value="typeTxt" type="radio">Text<br>
                    <input id="typeDigit" name="typeDigit" value="Radio" type="radio">Nombre<br>
                    <input id="typeEmail" name="typeEmail" value="Checkbox" type="radio">Email<br>
                    <input id="typeData" name="typeData" value="Select" type="radio">Data<br>
                    <input id="typeFile" name="typeFile" value="Checkbox" type="radio">Document<br>
                    <input id="submitTypeText" type="button" value="Acceptar" onclick="getTextOption()" >
                </form>
            </div>
            <div>
                <input id="inputText" name="inputText" type="text" hidden>
                <input id="inputDigit" name="inputDigit" type="number" hidden min="0" max="1000">
                <input id="inputEmail" name="inputEmail" type="email" hidden>
                <input id="inputData" name="inputData" type="date" hidden>
                <input id="inputFile" name="inputFile" type="file" hidden>
                <input id="acceptaValorText" name="acceptaValorText" type="button" hidden value="Acceptar" onclick="crearCamp()">
            </div>
        </form>

    </body>
    <script>
        var inputNouForm = document.getElementById("inputNomForm");
        
        var btnCreaForm = document.getElementById("btnCreaForm");
        var divCreaForm = document.getElementById("divCreaForm");
        var divTypeText = document.getElementById("divTypeText");
        var submitTipusCamp = document.getElementById("submitTipusCamp");
        
        //btn envia camp a crear de tipus text
        var submitTypeText = document.getElementById("submitTypeText");
        var campText = document.getElementById("campText");
        var campRadio = document.getElementById("campRadio");
        var campCheckBox = document.getElementById("campCheckbox");
        var campSelect = document.getElementById("campSelect");
        
        
        //radioButton tipus de text
        
        var typeTxt = document.getElementById("typeTxt");
        var typeDigit = document.getElementById("typeDigit");
        var typeEmail = document.getElementById("typeEmail");
        var typeData = document.getElementById("typeData");
        var typeFile = document.getElementById("typeFile");
        
        //inputs de x tipus
        var inputText = document.getElementById("inputText");
        var inputDigit = document.getElementById("inputDigit");
        var inputEmail = document.getElementById("inputEmail");
        var inputData = document.getElementById("inputData");
        var inputFile = document.getElementById("inputFile");
        var btnAcceptaTipusText = document.getElementById("acceptaValorText");
        
        //nou camp a crear
        var nouCampForm = document.createElement("input");
        var nouCampSelect = document.createElement("select");
        function nouFormulari(){
            //TODO     falta hacer control sobre id
            var nouForm = document.createElement("form");
            nouForm.setAttribute("id", inputNouForm.value);
            
            if (inputNouForm.value != "") {
                if (divCreaForm.style.display === "none") {
                    divCreaForm.style.display = "block";
                    document.body.appendChild(nouForm);
                } 
            }else{
                divCreaForm.style.display = "none";
            }
        }
        
        function getOption(){ 
            //mostrem formulari de selecció de tipus de text
            if (campText.checked) {
               if (divTypeText.style.display === "none") {
                divTypeText.style.display = "block";
               }else {
                divTypeText.style.display = "none";
               }
               
            }else if(campRadio.checked){
                
            }else if(campCheckBox.checked){
                
            }else if(campSelect.checked){
                
            }
        }
        function getTextOption(){
            acceptaValorText.removeAttribute("hidden");
            if(typeTxt.checked){
                inputText.removeAttribute("hidden");
            }else if(typeDigit.checked){
                inputDigit.removeAttribute("hidden");
            }else if(typeEmail.checked){
                inputEmail.removeAttribute("hidden");
            }else if(typeData.checked){
                inputData.removeAttribute("hidden");
            }else if(typeFile.checked){
                inputFile.removeAttribute("hidden");
            }
            
            
            
        }
        
        function crearCamp(){
            if (campText.checked && typeTxt.checked) {
                nouCampForm.setAttribute("type", "text");
            }else if (campText.checked && typeDigit.checked) {
                nouCampForm.setAttribute("type", "number");
            }else if (campText.checked && typeEmail.checked) {
                nouCampForm.setAttribute("type", "email");
            }else if (campText.checked && typeData.checked) {
                nouCampForm.setAttribute("type", "date");
            }else if (campText.checked && typeFile.checked) {
                nouCampForm.setAttribute("type", "file");
            }
            nouForm.appendChild(nouCampForm);
            
        }
        
        
        
        /*
        btnCrear = document.getElementById("btnCrea");

        btnCrear.addEventListener("click", creaForm);

        function creaForm() {
            var form = document.createElement("form");

            var divNomForm = document.createElement("div");
            var nomFormtxt = document.createTextNode("Nom formulari: ");
            var nomForm = document.createElement("input");
            nomForm.setAttribute("id", "nomForm");

            divNomForm.appendChild(nomFormtxt);
            divNomForm.appendChild(nomForm);

            var divNouCamp = document.createElement("div");
            var campoACrear = document.createTextNode("Selecciona camp a crear: ");
            //Radio txt
            var radioTxt = document.createElement("input");
            var radioTxtTxt = document.createTextNode("Text");
            radioTxt.setAttribute("id", "radioTxt");
            radioTxt.setAttribute("name", "radioTxt");
            radioTxt.setAttribute("type", "radio");
            radioTxt.setAttribute("value", "Texto");

            radioTxt.appendChild(radioTxtTxt);
            divNouCamp.appendChild(campoACrear);
            divNouCamp.appendChild(radioTxt);

            //Radio radio
            var radioRadio = document.createElement("input");
            radioRadio.setAttribute("id", "radioRadio");
            radioRadio.setAttribute("type", "radio");

            var crearForm = document.createElement("button");
            var crearFormtxt = document.createTextNode("Crear formulari");

            form.appendChild(divNomForm);
            form.appendChild(divNouCamp);
            crearForm.appendChild(crearFormtxt);
            form.appendChild(crearForm);
            document.body.appendChild(form);
        }
        */
    </script>
</html>
